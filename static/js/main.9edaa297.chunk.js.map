{"version":3,"sources":["../../build/main/index.js","../node_modules/@renproject/contracts/dist/src/networks sync","App.js","index.js"],"names":["_regeneratorRuntime","__webpack_require__","_asyncToGenerator","Object","defineProperty","exports","value","getElement","id","element","document","getElementById","Error","concat","sendMessage","type","payload","frame","contentWindow","postMessage","from","GatewayJS","getPopup","close","renElement","parentElement","removeChild","error","console","open","_open","mark","_callee","params","wrap","_context","prev","next","abrupt","Promise","resolve","reject","existingPopup","body","innerHTML","window","onmessage","e","data","sendToken","sendTo","sendAmount","contractFn","contractParams","stop","_x","apply","this","arguments","default","webpackEmptyContext","req","code","keys","module","shifterRegistryAddress","contractAddress","App","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","updateBalance","asyncToGenerator","regenerator_default","a","web3","contract","address","balance","state","eth","Contract","ABI","getAccounts","sent","methods","setState","parseInt","toString","Math","pow","log","message","deposit","_callee2","_this$state","amount","_context2","sdk","BigNumber","RenSDK","Tokens","BTC","Btc2Eth","times","toNumber","name","withdraw","_callee3","_this$state2","recipient","shifterRegistry","zbtc","token","response","_context3","prompt","ShifterRegistryABI","getTokenBySymbol","ERC20ABI","approve","floor","send","on","catch","Eth2Btc","addressToHex","ethereum","web3Provider","enable","currentProvider","Web3","_this2","setInterval","_this$state3","react_default","createElement","className","onClick","React","Component","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.9edaa297.chunk.js","sourcesContent":["\"use strict\"; // tslint:disable\n\nvar _regeneratorRuntime = require(\"/home/noah/github/renproject/gateway-js/library/sdk-tutorial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/home/noah/github/renproject/gateway-js/library/sdk-tutorial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // const sleep = (time: number) => new Promise((resolve) => setTimeout(resolve, time));\n\nvar getElement = function getElement(id) {\n  var element = document.getElementById(id);\n\n  if (!element) {\n    throw new Error(\"Unable to find element \".concat(id));\n  }\n\n  return element;\n};\n\nvar getFrame = function getFrame() {\n  return getElement(\"_renFrame\");\n};\n\nvar sendMessage = function sendMessage(type, payload) {\n  var frame = getFrame();\n\n  if (frame) {\n    frame.contentWindow.postMessage({\n      from: \"ren\",\n      type: type,\n      payload: payload\n    }, '*');\n  }\n}; // box-shadow: 0 0 32px 10px rgba(100, 100, 100, 0.9); \n\n\nvar GatewayJS = {\n  getPopup: function getPopup() {\n    return getElement(\"_ren\");\n  },\n  close: function close() {\n    try {\n      var renElement = GatewayJS.getPopup();\n\n      if (renElement.parentElement) {\n        renElement.parentElement.removeChild(renElement);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  open: function () {\n    var _open = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(params) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                // Check that GatewayJS isn't already open\n                var existingPopup;\n\n                try {\n                  existingPopup = GatewayJS.getPopup();\n                } catch (error) {\n                  /* Ignore error */\n                }\n\n                if (existingPopup) {\n                  throw new Error(\"GatewayJS already open\");\n                } // Check if there's already a \"_ren\" element\n                // Add iframe to body\n\n\n                document.body.innerHTML = document.body.innerHTML + \"\\n<div id=\\\"_ren\\\">\\n    <div\\n        style=\\\"width: 100vw; height: 100vh; top: 0; left: 0; position: absolute; background: rgba(0, 0, 0, 0.7); z-index:1000000\\\">\\n    </div>\\n    <div\\n        style=\\\"box-shadow: 0 20px 40px 0 rgba(0,0,0,0.5); border-radius: 6px; background:#fff; position:absolute;top: 50%; left: 50%; transform: translate(-50%, -50%); width:460px;height:380px; z-index:1000000\\\">\\n        <iframe id=\\\"_renFrame\\\" style=\\\"border-radius: 6px; height: 100%; width: 100%; border: none;\\\"\\n            src = \\\"https://gateway-js.herokuapp.com/\\\" > </iframe>\\n    </div>\\n</div>\\n\";\n                /*\n                 fixed; top: 0;\n                \n                <main>\n                            <style>\n                                .banner {\n                                    height: 50px;\n                                    width: calc(100% - 40px);\n                                    display: flex;\n                                    color: $foreground;\n                                    align-items: center;\n                                    border-bottom: 1px solid #ccc;\n                                    padding: 15px 20px;\n                                    background: white;\n                                    // border-radius: 3px;\n                                }\n                \n                                    .banner h1 {\n                                        margin: 0;\n                                        font-size: 34px;\n                                        font-family: monospace;\n                                        font-weight: 100;\n                                    }\n                \n                                    .banner svg {\n                                        margin-right: 10px;\n                                    }\n                \n                                .footer {\n                                    position: fixed;\n                                    bottom: 0;\n                                    height: 30px;\n                                    padding: 0 20px;\n                                    width: calc(100% - 40px);\n                                    display: flex;\n                                    color: $foreground;\n                                    align-items: center;\n                                    border-top: 1px solid #ccc;\n                                    background: white;\n                                    // border-radius: 3px;\n                                }\n                                .footer h2 {\n                                        margin: 0;\n                                        font-size: 10px;\n                                        font-family: monospace;\n                                        font-weight: 100;\n                                    }\n                \n                                    .footer svg {\n                                        margin-right: 10px;\n                                    }\n                            </style>\n                            <div class=\"banner\"><svg id=\"Layer_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 135.2 135.2\" style=\"width: 40px;\"\n                                    xml:space=\"preserve\">\n                                    <style type=\"text/css\">\n                                        .st0 {\n                                            fill: #21262C;\n                                        }\n                                    </style>\n                                    <g>\n                                        <polygon class=\"st0\"\n                                            points=\"18.6,28.5 28.5,22.8 29.9,25.1 66.6,3.9 63.9,2.3 61.2,0.8 59.9,0 0,34.6 0,36.1 17.2,26.2  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"18.6,50.3 47.4,33.7 48.7,36 85.5,14.8 82.8,13.2 80.1,11.7 78.8,10.9 0,56.3 0,57.9 17.2,48  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"18.6,61.2 56.8,39.1 58.1,41.4 94.9,20.2 92.2,18.7 89.5,17.1 88.2,16.3 0,67.2 0,68.8 17.2,58.8  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"18.6,72 66.5,44.4 67.8,46.7 104.3,25.6 101.6,24.1 98.9,22.5 97.6,21.8 0,78.1 0,79.6 17.2,69.7  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"18.6,82.9 75.9,49.8 77.2,52.2 113.7,31.1 111,29.5 108.4,28 107,27.2 0,89 0,90.5 17.2,80.6  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"117.8,33.4 116.4,32.6 0,99.9 0,101.4 17.2,91.5 18.6,93.8 75.9,60.7 77.2,63 119.8,38.5 119.8,35.4    119.8,34.6  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"7.4,108 17,102.5 18.4,104.8 75.6,71.7 77,74.1 119.8,49.3 119.8,46.2 119.8,43.1 119.8,41.6    6.1,107.2  \">\n                                        </polygon>\n                                        <polyline class=\"st0\"\n                                            points=\"75.6,82.6 77,85 119.8,60.2 119.8,57.1 119.8,54 119.8,52.5 15.5,112.7 16.8,113.5 26.6,107.8    28,110.1  \">\n                                        </polyline>\n                                        <polygon class=\"st0\"\n                                            points=\"26.2,118.9 36.1,113.2 37.4,115.6 75.6,93.5 77,95.8 119.8,71.1 119.8,68 119.8,64.9 119.8,63.3    24.9,118.1  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"35.7,124.3 45.5,118.7 46.8,121 75.6,104.4 77,106.7 119.8,82 119.8,78.9 119.8,75.8 119.8,74.2    34.3,123.6  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"43.7,129 45.1,129.8 54.9,124.1 56.2,126.5 75.6,115.3 77,117.6 119.8,92.9 119.8,89.8 119.8,86.6    119.8,85.1  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"54.5,135.2 64.3,129.6 65.7,131.9 75.6,126.1 77,128.5 119.8,103.8 119.8,100.6 119.8,97.5 119.8,96    53.2,134.5  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"76.1,9.3 73.4,7.8 73.4,7.8 70.7,6.2 69.3,5.4 0,45.5 0,47 17.2,37.1 18.6,39.4 38,28.2 39.3,30.5     \">\n                                        </polygon>\n                                    </g>\n                                </svg>\n                                <h1>RenVM</h1>\n                            </div>\n                            <div class=\"footer\"><svg id=\"Layer_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 135.2 135.2\" style=\"width: 15px;\"\n                                    xml:space=\"preserve\">\n                                    <style type=\"text/css\">\n                                        .st0 {\n                                            fill: #21262C;\n                                        }\n                                    </style>\n                                    <g>\n                                        <polygon class=\"st0\"\n                                            points=\"18.6,28.5 28.5,22.8 29.9,25.1 66.6,3.9 63.9,2.3 61.2,0.8 59.9,0 0,34.6 0,36.1 17.2,26.2  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"18.6,50.3 47.4,33.7 48.7,36 85.5,14.8 82.8,13.2 80.1,11.7 78.8,10.9 0,56.3 0,57.9 17.2,48  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"18.6,61.2 56.8,39.1 58.1,41.4 94.9,20.2 92.2,18.7 89.5,17.1 88.2,16.3 0,67.2 0,68.8 17.2,58.8  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"18.6,72 66.5,44.4 67.8,46.7 104.3,25.6 101.6,24.1 98.9,22.5 97.6,21.8 0,78.1 0,79.6 17.2,69.7  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"18.6,82.9 75.9,49.8 77.2,52.2 113.7,31.1 111,29.5 108.4,28 107,27.2 0,89 0,90.5 17.2,80.6  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"117.8,33.4 116.4,32.6 0,99.9 0,101.4 17.2,91.5 18.6,93.8 75.9,60.7 77.2,63 119.8,38.5 119.8,35.4    119.8,34.6  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"7.4,108 17,102.5 18.4,104.8 75.6,71.7 77,74.1 119.8,49.3 119.8,46.2 119.8,43.1 119.8,41.6    6.1,107.2  \">\n                                        </polygon>\n                                        <polyline class=\"st0\"\n                                            points=\"75.6,82.6 77,85 119.8,60.2 119.8,57.1 119.8,54 119.8,52.5 15.5,112.7 16.8,113.5 26.6,107.8    28,110.1  \">\n                                        </polyline>\n                                        <polygon class=\"st0\"\n                                            points=\"26.2,118.9 36.1,113.2 37.4,115.6 75.6,93.5 77,95.8 119.8,71.1 119.8,68 119.8,64.9 119.8,63.3    24.9,118.1  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"35.7,124.3 45.5,118.7 46.8,121 75.6,104.4 77,106.7 119.8,82 119.8,78.9 119.8,75.8 119.8,74.2    34.3,123.6  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"43.7,129 45.1,129.8 54.9,124.1 56.2,126.5 75.6,115.3 77,117.6 119.8,92.9 119.8,89.8 119.8,86.6    119.8,85.1  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"54.5,135.2 64.3,129.6 65.7,131.9 75.6,126.1 77,128.5 119.8,103.8 119.8,100.6 119.8,97.5 119.8,96    53.2,134.5  \">\n                                        </polygon>\n                                        <polygon class=\"st0\"\n                                            points=\"76.1,9.3 73.4,7.8 73.4,7.8 70.7,6.2 69.3,5.4 0,45.5 0,47 17.2,37.1 18.6,39.4 38,28.2 39.3,30.5     \">\n                                        </polygon>\n                                    </g>\n                                </svg>\n                                <h2>Gateway JS</h2>\n                            </div>\n                        </main>\n                        */\n\n                window.onmessage = function (e) {\n                  if (e.data && e.data.from === \"ren\") {\n                    // alert(`I got a message: ${JSON.stringify(e.data)}`);\n                    switch (e.data.type) {\n                      case \"ready\":\n                        sendMessage(\"shift\", {\n                          sendToken: params.sendToken,\n                          sendTo: params.sendTo,\n                          sendAmount: params.sendAmount,\n                          contractFn: params.contractFn,\n                          contractParams: params.contractParams\n                        });\n                        break;\n\n                      case \"cancel\":\n                        GatewayJS.close();\n                        reject(e.data.payload);\n                        break;\n\n                      case \"done\":\n                        GatewayJS.close();\n                        resolve(e.data.payload);\n                        break;\n                    }\n                  }\n                };\n              }));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function open(_x) {\n      return _open.apply(this, arguments);\n    }\n\n    return open;\n  }()\n};\nexports.default = GatewayJS;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 47;","// @ts-nocheck\n\nimport React from 'react';\nimport RenSDK from \"@renproject/ren\";\nimport GatewayJS from \"gateway-js\";\nimport Web3 from \"web3\";\nimport BigNumber from \"bignumber.js\";\nimport './App.css';\n\nimport ABI from \"./ABI.json\";\nimport ERC20ABI from \"./ERC20ABI.json\";\nimport ShifterRegistryABI from \"./ShifterRegistryABI.json\";\n\n// Replace with your contract's address.\nconst shifterRegistryAddress = \"0xbA563a8510d86dE95F5a50007E180d6d4966ad12\";\nconst contractAddress = \"0xa2aE9111634F5983e4e1C3E3823914841a4c7235\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      balance: 0,\n      message: \"\",\n      sdk: new RenSDK(\"testnet\"),\n    }\n  }\n\n  async componentDidMount() {\n    let web3Provider;\n\n    // Initialize web3 (https://medium.com/coinmonks/web3-js-ethereum-javascript-api-72f7b22e2f0a)\n    // Modern dApp browsers...\n    if (window.ethereum) {\n      web3Provider = window.ethereum;\n      try {\n        // Request account access\n        await window.ethereum.enable();\n      } catch (error) {\n        // User denied account access...\n        console.error(\"User denied account access\")\n      }\n    }\n    // Legacy dApp browsers...\n    else if (window.web3) {\n      web3Provider = window.web3.currentProvider;\n    }\n    // If no injected web3 instance is detected, fall back to Ganache\n    else {\n      this.log(\"Please install MetaMask!\");\n    }\n\n    const web3 = new Web3(web3Provider);\n\n    this.setState({ web3 }, () => {\n\n      // Update balances immediately and every 10 seconds\n      this.updateBalance();\n      setInterval(() => {\n        this.updateBalance();\n      }, 10 * 1000);\n    });\n  }\n\n  render() {\n    const { balance, message } = this.state;\n    return (\n      <div className=\"App\">\n        <p>Balance: {balance} BTC</p>\n        <p><button onClick={this.deposit}>Deposit 0.00015 BTC</button></p>\n        <p><button onClick={this.withdraw}>Withdraw 0.00015 BTC</button></p>\n        <p>{message}</p>\n      </div>\n    );\n  }\n\n  updateBalance = async () => {\n    const { web3 } = this.state;\n    const contract = new web3.eth.Contract(ABI, contractAddress);\n\n    const address = (await web3.eth.getAccounts())[0];\n\n    const balance = await contract.methods.balance(address).call();\n    this.setState({ balance: parseInt(balance.toString()) / 10 ** 8 });\n  }\n\n  log = (message) => {\n    this.setState({ message });\n  }\n\n  deposit = async () => {\n    const { web3, sdk } = this.state;\n    const amount = new BigNumber(\"0.00015\"); // BTC\n\n    const address = (await web3.eth.getAccounts())[0];\n    console.log(`Using address ${address}!!!`);\n\n    await GatewayJS.open({\n      // Send BTC from the Bitcoin blockchain to the Ethereum blockchain.\n      sendToken: RenSDK.Tokens.BTC.Btc2Eth,\n\n      // Amount of BTC we are sending (in Satoshis)\n      sendAmount: amount.times(10 ** 8).toNumber(), // Convert to Satoshis\n\n      // The contract we want to interact with\n      sendTo: contractAddress,\n\n      // The name of the function we want to call\n      contractFn: \"shiftIn\",\n\n      // Arguments expected for calling `deposit`\n      contractParams: [\n        {\n          name: \"_to\",\n          type: \"address\",\n          value: address,\n        }\n      ],\n    });\n  }\n\n  withdraw = async () => {\n    const { web3, sdk, balance } = this.state;\n\n    const amount = 0.00015; // balance;\n    const recipient = prompt(\"Enter BTC recipient:\");\n    if (!recipient) {\n      return;\n    }\n    const from = (await web3.eth.getAccounts())[0];\n    // const contract = new web3.eth.Contract(ABI, contractAddress);\n\n    // this.log(\"Calling `withdraw` on smart contract...\");\n    // const txHash = await new Promise((resolve, reject) => {\n    //   contract.methods.withdraw(\n    //     web3.utils.fromAscii(`Depositing ${amount} BTC`), // _msg\n    //     RenSDK.Tokens.BTC.addressToHex(recipient), //_to\n    //     amount * (10 ** 8), // _amount in Satoshis\n    //   ).send({ from })\n    //     .on(\"transactionHash\", resolve)\n    //     .catch(reject);\n    // });\n\n    const shifterRegistry = new web3.eth.Contract(ShifterRegistryABI, shifterRegistryAddress);\n    const zbtc = await shifterRegistry.methods.getTokenBySymbol(\"zBTC\").call();\n\n    const token = new web3.eth.Contract(ERC20ABI, zbtc);\n    await new Promise((resolve, reject) => {\n      token.methods.approve(contractAddress, Math.floor(amount * 10 ** 8))\n        .send({ from })\n        .on(\"transactionHash\", resolve)\n        .catch(reject);\n    });\n\n    this.log(`Retrieving burn event from contract...`);\n    const response = await GatewayJS.open({\n      // Send BTC from the Ethereum blockchain to the Bitcoin blockchain.\n      // This is the reverse of shitIn.\n      sendToken: RenSDK.Tokens.BTC.Eth2Btc,\n\n      // The contract we want to interact with\n      sendTo: contractAddress,\n\n      // The name of the function we want to call\n      contractFn: \"shiftOut\",\n\n      // Arguments expected for calling `deposit`\n      contractParams: [\n        {\n          name: \"_to\",\n          type: \"bytes\",\n          value: RenSDK.Tokens.BTC.addressToHex(recipient),\n        },\n        {\n          name: \"_to\",\n          type: \"uint256\",\n          value: Math.floor(amount * 10 ** 8),\n        }\n      ],\n\n      // // The transaction hash of our contract call\n      // txHash,\n    });\n\n    console.log(response);\n\n    // this.log(`Submitting to Darknodes...`);\n    // await shiftOut.submitToRenVM();\n    // this.log(`Withdrew ${amount} BTC to ${recipient}.`);\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n// Unregister causes an \"Unhandled Rejection (SecurityError): The operation is\n// insecure.\" in the latest version of Firefox.\n// serviceWorker.unregister();\n"],"sourceRoot":""}