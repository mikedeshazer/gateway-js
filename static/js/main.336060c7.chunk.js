(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{218:function(e,t,n){"use strict";var a=n(36),s=n(123);Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t=document.getElementById(e);if(!t)throw new Error("Unable to find element ".concat(e));return t},r=function(e,t){var n=o("_renFrame");n&&n.contentWindow.postMessage({from:"ren",type:e,payload:t},"*")},i={getPopup:function(){return o("_ren")},close:function(){try{var e=i.getPopup();e.parentElement&&e.parentElement.removeChild(e)}catch(t){console.error(t)}},open:function(){var e=s(a.mark(function e(t){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var a;try{a=i.getPopup()}catch(s){}if(a)throw new Error("GatewayJS already open");document.body.innerHTML=document.body.innerHTML+'\n<div id="_ren">\n    <div\n        style="width: 100vw; height: 100vh; top: 0; left: 0; position: absolute; background: rgba(0, 0, 0, 0.7); z-index:1000000">\n    </div>\n    <div\n        style="box-shadow: 0 20px 40px 0 rgba(0,0,0,0.5); border-radius: 6px; background:#fff; position:absolute;top: 50%; left: 50%; transform: translate(-50%, -50%); width:460px;height:380px; z-index:1000000">\n        <iframe id="_renFrame" style="border-radius: 6px; height: 100%; width: 100%; border: none;"\n            src = "http://localhost:3344" > </iframe>\n    </div>\n</div>\n',window.onmessage=function(a){if(a.data&&"ren"===a.data.from)switch(a.data.type){case"ready":r("shift",{sendToken:t.sendToken,sendTo:t.sendTo,sendAmount:t.sendAmount,contractFn:t.contractFn,contractParams:t.contractParams});break;case"cancel":i.close(),n(a.data.payload);break;case"done":i.close(),e(a.data.payload)}}}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};t.default=i},362:function(e){e.exports=[{constant:!1,inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bytes32",name:"_nHash",type:"bytes32"},{internalType:"bytes",name:"_sig",type:"bytes"}],name:"shiftIn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"registry",outputs:[{internalType:"contract IShifterRegistry",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes",name:"_to",type:"bytes"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"shiftOut",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"addr",type:"address"}],name:"balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IShifterRegistry",name:"_registry",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"}]},363:function(e){e.exports=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}]},364:function(e){e.exports=[{constant:!0,inputs:[{name:"_tokenAddress",type:"address"}],name:"getShifterByToken",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"claimOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenSymbol",type:"string"}],name:"getShifterBySymbol",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_start",type:"address"},{name:"_count",type:"uint256"}],name:"getShiftedTokens",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_tokenAddress",type:"address"},{name:"_shifterAddress",type:"address"}],name:"setShifter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_symbol",type:"string"}],name:"removeShifter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_tokenAddress",type:"address"},{name:"_newShifterAddress",type:"address"}],name:"updateShifter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_start",type:"address"},{name:"_count",type:"uint256"}],name:"getShifters",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenSymbol",type:"string"}],name:"getTokenBySymbol",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,name:"_symbol",type:"string"},{indexed:!0,name:"_indexedSymbol",type:"string"},{indexed:!0,name:"_tokenAddress",type:"address"},{indexed:!0,name:"_shifterAddress",type:"address"}],name:"LogShifterRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_symbol",type:"string"},{indexed:!0,name:"_indexedSymbol",type:"string"},{indexed:!0,name:"_tokenAddress",type:"address"},{indexed:!0,name:"_shifterAddress",type:"address"}],name:"LogShifterDeregistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_tokenAddress",type:"address"},{indexed:!0,name:"_currentShifterAddress",type:"address"},{indexed:!0,name:"_newShifterAddress",type:"address"}],name:"LogShifterUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}]},367:function(e,t,n){e.exports=n(901)},372:function(e,t,n){},387:function(e,t){},393:function(e,t){},412:function(e,t){},414:function(e,t){},47:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=47},518:function(e,t){},718:function(e,t){},899:function(e,t,n){},901:function(e,t,n){"use strict";n.r(t);var a=n(42),s=n.n(a),o=n(357),r=n.n(o),i=(n(372),n(36)),p=n.n(i),u=n(121),d=n(358),c=n(359),y=n(365),l=n(360),m=n(366),b=n(122),f=n.n(b),w=n(218),h=n.n(w),v=n(361),x=n.n(v),g=n(217),_=n.n(g),k=(n(899),n(362)),M=n(363),T=n(364),S="0xbA563a8510d86dE95F5a50007E180d6d4966ad12",O="0xa2aE9111634F5983e4e1C3E3823914841a4c7235",E=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(y.a)(this,Object(l.a)(t).call(this,e))).updateBalance=Object(u.a)(p.a.mark(function e(){var t,a,s,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.web3,a=new t.eth.Contract(k,O),e.next=4,t.eth.getAccounts();case 4:return s=e.sent[0],e.next=7,a.methods.balance(s).call();case 7:o=e.sent,n.setState({balance:parseInt(o.toString())/Math.pow(10,8)});case 9:case"end":return e.stop()}},e)})),n.log=function(e){n.setState({message:e})},n.deposit=Object(u.a)(p.a.mark(function e(){var t,a,s,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.web3,t.sdk,s=new _.a("0.00015"),e.next=4,a.eth.getAccounts();case 4:return o=e.sent[0],console.log("Using address ".concat(o,"!!!")),e.next=8,h.a.open({sendToken:f.a.Tokens.BTC.Btc2Eth,sendAmount:s.times(Math.pow(10,8)).toNumber(),sendTo:O,contractFn:"shiftIn",contractParams:[{name:"_to",type:"address",value:o}]});case 8:case"end":return e.stop()}},e)})),n.withdraw=Object(u.a)(p.a.mark(function e(){var t,a,s,o,r,i,u,d,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.web3,t.sdk,t.balance,s=15e-5,o=prompt("Enter BTC recipient:")){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,a.eth.getAccounts();case 7:return r=e.sent[0],i=new a.eth.Contract(T,S),e.next=11,i.methods.getTokenBySymbol("zBTC").call();case 11:return u=e.sent,d=new a.eth.Contract(M,u),e.next=15,new Promise(function(e,t){d.methods.approve(O,Math.floor(s*Math.pow(10,8))).send({from:r}).on("transactionHash",e).catch(t)});case 15:return n.log("Retrieving burn event from contract..."),e.next=18,h.a.open({sendToken:f.a.Tokens.BTC.Eth2Btc,sendTo:O,contractFn:"shiftOut",contractParams:[{name:"_to",type:"bytes",value:f.a.Tokens.BTC.addressToHex(o)},{name:"_to",type:"uint256",value:Math.floor(s*Math.pow(10,8))}]});case 18:c=e.sent,console.log(c);case 20:case"end":return e.stop()}},e)})),n.state={balance:0,message:"",sdk:new f.a("testnet")},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(p.a.mark(function e(){var t,n,a=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=12;break}return t=window.ethereum,e.prev=2,e.next=5,window.ethereum.enable();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("User denied account access");case 10:e.next=13;break;case 12:window.web3?t=window.web3.currentProvider:this.log("Please install MetaMask!");case 13:n=new x.a(t),this.setState({web3:n},function(){a.updateBalance(),setInterval(function(){a.updateBalance()},1e4)});case 15:case"end":return e.stop()}},e,this,[[2,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.balance,n=e.message;return s.a.createElement("div",{className:"App"},s.a.createElement("p",null,"Balance: ",t," BTC"),s.a.createElement("p",null,s.a.createElement("button",{onClick:this.deposit},"Deposit 0.00015 BTC")),s.a.createElement("p",null,s.a.createElement("button",{onClick:this.withdraw},"Withdraw 0.00015 BTC")),s.a.createElement("p",null,n))}}]),t}(s.a.Component);r.a.render(s.a.createElement(E,null),document.getElementById("root"))}},[[367,1,2]]]);
//# sourceMappingURL=main.336060c7.chunk.js.map