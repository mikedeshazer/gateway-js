{"version":3,"sources":["../node_modules/@renproject/contracts/dist/src/networks sync","../../build/module/index.js","../../build/module/ren.js","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","getElement","element","document","getElementById","concat","createElementFromHTML","htmlString","div","createElement","innerHTML","trim","firstChild","module_GatewayJS","GatewayJS","_this","this","Object","classCallCheck","paused","getPopup","getIFrame","getOrCreateGatewayContainer","error","body","toConsumableArray","Array","from","getElementsByTagName","popup","insertBefore","lastChild","sendMessage","type","payload","frame","contentWindow","postMessage","close","renElement","parentElement","removeChild","console","_pause","classList","add","_resume","remove","pause","resume","open","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","params","wrap","_context","prev","next","abrupt","Promise","reject","existingPopup","uniqueID","container","window","onmessage","data","log","sendToken","sendTo","sendAmount","contractFn","contractParams","stop","_x","apply","arguments","askForAddress","token","toUpperCase","build_module","shifterRegistryAddress","contractAddress","App","props","possibleConstructorReturn","getPrototypeOf","call","updateBalance","web3","contract","address","balance","state","eth","Contract","ABI","getAccounts","sent","methods","setState","parseInt","toString","Math","pow","message","deposit","_callee2","_this$state","amount","response","_context2","sdk","BigNumber","RenSDK","Tokens","BTC","Btc2Eth","times","toNumber","name","value","catch","String","JSON","stringify","withdraw","_callee3","_this$state2","shifterRegistry","zbtc","_context3","ShifterRegistryABI","getTokenBySymbol","ERC20ABI","approve","floor","send","on","Eth2Btc","ethereum","web3Provider","enable","currentProvider","Web3","_this2","setInterval","_this$state3","react_default","className","onClick","React","Component","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.e5e84f4b.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 47;","import _regeneratorRuntime from \"/home/noah/github/renproject/gateway-js/library/sdk-tutorial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/noah/github/renproject/gateway-js/library/sdk-tutorial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/home/noah/github/renproject/gateway-js/library/sdk-tutorial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/noah/github/renproject/gateway-js/library/sdk-tutorial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport { RenElementHTML, RenGatewayContainerHTML } from \"./ren\"; // const sleep = (time: number) => new Promise((resolve) => setTimeout(resolve, time));\n\nvar getElement = function getElement(id) {\n  var element = document.getElementById(id);\n\n  if (!element) {\n    throw new Error(\"Unable to find element \".concat(id));\n  }\n\n  return element;\n};\n\nfunction createElementFromHTML(htmlString) {\n  var div = document.createElement('div');\n  div.innerHTML = htmlString.trim(); // Change this to div.childNodes to support multiple top-level nodes\n\n  return div.firstChild;\n} // box-shadow: 0 0 32px 10px rgba(100, 100, 100, 0.9); \n\n\nvar GatewayJS = function GatewayJS() {\n  var _this = this;\n\n  _classCallCheck(this, GatewayJS);\n\n  this.paused = false;\n\n  this.getPopup = function () {\n    return getElement(\"_ren_gateway-\".concat(_this.id));\n  };\n\n  this.getIFrame = function () {\n    return getElement(\"_ren_iframe-\".concat(_this.id));\n  }; // public getIFrameShadow = () => getElement(`_ren_iframeShadow-${this.id}`);\n\n\n  this.getOrCreateGatewayContainer = function () {\n    try {\n      return getElement(\"_ren_gatewayContainer\");\n    } catch (error) {// Ignore error\n    }\n\n    var body = [].concat(_toConsumableArray(Array.from(document.getElementsByTagName('body')) || []), _toConsumableArray(Array.from(document.getElementsByTagName('html')) || []));\n    var popup = createElementFromHTML(RenGatewayContainerHTML());\n\n    if (body[0] && popup) {\n      body[0].insertBefore(popup, body[0].lastChild);\n    }\n\n    return getElement(\"_ren_gatewayContainer\");\n  };\n\n  this.sendMessage = function (type, payload) {\n    var frame = _this.getIFrame();\n\n    if (frame) {\n      frame.contentWindow.postMessage({\n        from: \"ren\",\n        type: type,\n        payload: payload\n      }, '*');\n    }\n  };\n\n  this.close = function () {\n    try {\n      var renElement = _this.getPopup();\n\n      if (renElement.parentElement) {\n        renElement.parentElement.removeChild(renElement);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  this._pause = function () {\n    _this.paused = true;\n\n    _this.getPopup().classList.add(\"_ren_gateway-minified\");\n  };\n\n  this._resume = function () {\n    _this.paused = false;\n\n    _this.getPopup().classList.remove(\"_ren_gateway-minified\");\n  };\n\n  this.pause = function () {\n    _this.sendMessage(\"pause\", {});\n\n    _this._pause();\n  };\n\n  this.resume = function () {\n    _this.sendMessage(\"resume\", {});\n\n    _this._resume();\n  };\n\n  this.open =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(params) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                // Check that GatewayJS isn't already open\n                var existingPopup;\n\n                try {\n                  existingPopup = _this.getPopup();\n                } catch (error) {\n                  /* Ignore error */\n                }\n\n                if (existingPopup) {\n                  throw new Error(\"GatewayJS already open\");\n                } // Check if there's already a \"_ren\" element\n\n\n                var container = _this.getOrCreateGatewayContainer();\n\n                var popup = createElementFromHTML(RenElementHTML(_this.id));\n\n                if (popup) {\n                  container.insertBefore(popup, container.lastChild);\n                }\n\n                window.onmessage = function (e) {\n                  if (e.data && e.data.from === \"ren\") {\n                    console.log(\"New message! \".concat(e.data.type)); // alert(`I got a message: ${JSON.stringify(e.data)}`);\n\n                    switch (e.data.type) {\n                      case \"ready\":\n                        _this.sendMessage(\"shift\", {\n                          sendToken: params.sendToken,\n                          sendTo: params.sendTo,\n                          sendAmount: params.sendAmount,\n                          contractFn: params.contractFn,\n                          contractParams: params.contractParams\n                        });\n\n                        if (_this.paused) {\n                          console.log(\"Asking them to pause!!!\");\n\n                          _this.pause();\n                        }\n\n                        break;\n\n                      case \"pause\":\n                        _this._pause();\n\n                        break;\n\n                      case \"resume\":\n                        _this._resume();\n\n                        break;\n\n                      case \"cancel\":\n                        _this.close();\n\n                        reject(e.data.payload);\n                        break;\n\n                      case \"done\":\n                        _this.close();\n\n                        resolve(e.data.payload);\n                        break;\n                    }\n                  }\n                };\n              }));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  this.id = \"1234\";\n};\n\nGatewayJS.askForAddress = function (token) {\n  return \"__renAskForAddress__\".concat(token ? token.toUpperCase() : \"\");\n};\n\n;\nexport default GatewayJS;","export var RenGatewayContainerHTML = function RenGatewayContainerHTML() {\n  return \"\\n<div id=\\\"_ren_gatewayContainer\\\" id=\\\"_ren_gatewayContainer\\\">\\n    <style>\\n        #_ren_gatewayContainer {\\n            all: unset;\\n        }\\n    </style>\\n</div>\\n\";\n};\nexport var RenElementHTML = function RenElementHTML(uniqueID) {\n  return \"\\n<div class=\\\"_ren_gateway\\\" id=\\\"_ren_gateway-\".concat(uniqueID, \"\\\">\\n    <style>\\n    ._ren_overlay {\\n        width: 100vw;\\n        height: 100vh;\\n        top: 0;\\n        left: 0;\\n        position: absolute;\\n        background: rgba(0, 0, 0, 0.7);\\n        z-index:1000000;\\n    }\\n\\n    ._ren_iframeShadow {\\n        box-shadow: 0 20px 40px 0 rgba(0,0,0,0.5);\\n        border-radius: 6px;\\n        background:#fff;\\n        position:absolute;\\n        top: 50%;\\n        left: 50%;\\n        transform: translate(-50%, -50%);\\n        width:460px;\\n        height:410px;\\n        z-index:1000000;\\n        transition: all 300ms;\\n    }\\n\\n    ._ren_gateway-minified ._ren_iframeShadow {\\n        top: 10px;\\n        right: 10px;\\n        left: unset;\\n        transform: translate(0%, 0%);\\n        width:250px;\\n        height:50px;\\n        box-shadow: 0 5px 10px 0 rgba(0,0,0,0.5);\\n    }\\n\\n    ._ren_gateway-minified ._ren_overlay {\\n        display: none;\\n    }\\n\\n    ._ren_iframe {\\n        border-radius: 6px;\\n        height: 100%;\\n        width: 100%;\\n        border: none;\\n    }\\n    </style>\\n    <div class=\\\"_ren_overlay\\\"></div>\\n    <div class=\\\"_ren_iframeShadow\\\" id=\\\"_ren_iframeShadow-\").concat(uniqueID, \"\\\">\\n        <iframe class=\\\"_ren_iframe\\\" id=\\\"_ren_iframe-\").concat(uniqueID, \"\\\" style=\\\"\\\"\\n            src=\\\"https://gateway-js.herokuapp.com/\\\" ></iframe>\\n    </div>\\n</div>\\n\");\n}; // https://gateway-js.herokuapp.com/\n\n/*\n\nfixed; top: 0;\n\n<main>\n    <style>\n        .banner {\n            height: 50px;\n            width: calc(100% - 40px);\n            display: flex;\n            color: $foreground;\n            align-items: center;\n            border-bottom: 1px solid #ccc;\n            padding: 15px 20px;\n            background: white;\n            // border-radius: 3px;\n        }\n\n            .banner h1 {\n                margin: 0;\n                font-size: 34px;\n                font-family: monospace;\n                font-weight: 100;\n            }\n\n            .banner svg {\n                margin-right: 10px;\n            }\n\n        .footer {\n            position: fixed;\n            bottom: 0;\n            height: 30px;\n            padding: 0 20px;\n            width: calc(100% - 40px);\n            display: flex;\n            color: $foreground;\n            align-items: center;\n            border-top: 1px solid #ccc;\n            background: white;\n            // border-radius: 3px;\n        }\n        .footer h2 {\n                margin: 0;\n                font-size: 10px;\n                font-family: monospace;\n                font-weight: 100;\n            }\n\n            .footer svg {\n                margin-right: 10px;\n            }\n    </style>\n    <div class=\"banner\"><svg id=\"Layer_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 135.2 135.2\" style=\"width: 40px;\"\n            xml:space=\"preserve\">\n            <style type=\"text/css\">\n                .st0 {\n                    fill: #21262C;\n                }\n            </style>\n            <g>\n                <polygon class=\"st0\"\n                    points=\"18.6,28.5 28.5,22.8 29.9,25.1 66.6,3.9 63.9,2.3 61.2,0.8 59.9,0 0,34.6 0,36.1 17.2,26.2  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"18.6,50.3 47.4,33.7 48.7,36 85.5,14.8 82.8,13.2 80.1,11.7 78.8,10.9 0,56.3 0,57.9 17.2,48  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"18.6,61.2 56.8,39.1 58.1,41.4 94.9,20.2 92.2,18.7 89.5,17.1 88.2,16.3 0,67.2 0,68.8 17.2,58.8  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"18.6,72 66.5,44.4 67.8,46.7 104.3,25.6 101.6,24.1 98.9,22.5 97.6,21.8 0,78.1 0,79.6 17.2,69.7  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"18.6,82.9 75.9,49.8 77.2,52.2 113.7,31.1 111,29.5 108.4,28 107,27.2 0,89 0,90.5 17.2,80.6  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"117.8,33.4 116.4,32.6 0,99.9 0,101.4 17.2,91.5 18.6,93.8 75.9,60.7 77.2,63 119.8,38.5 119.8,35.4    119.8,34.6  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"7.4,108 17,102.5 18.4,104.8 75.6,71.7 77,74.1 119.8,49.3 119.8,46.2 119.8,43.1 119.8,41.6    6.1,107.2  \">\n                </polygon>\n                <polyline class=\"st0\"\n                    points=\"75.6,82.6 77,85 119.8,60.2 119.8,57.1 119.8,54 119.8,52.5 15.5,112.7 16.8,113.5 26.6,107.8    28,110.1  \">\n                </polyline>\n                <polygon class=\"st0\"\n                    points=\"26.2,118.9 36.1,113.2 37.4,115.6 75.6,93.5 77,95.8 119.8,71.1 119.8,68 119.8,64.9 119.8,63.3    24.9,118.1  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"35.7,124.3 45.5,118.7 46.8,121 75.6,104.4 77,106.7 119.8,82 119.8,78.9 119.8,75.8 119.8,74.2    34.3,123.6  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"43.7,129 45.1,129.8 54.9,124.1 56.2,126.5 75.6,115.3 77,117.6 119.8,92.9 119.8,89.8 119.8,86.6    119.8,85.1  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"54.5,135.2 64.3,129.6 65.7,131.9 75.6,126.1 77,128.5 119.8,103.8 119.8,100.6 119.8,97.5 119.8,96    53.2,134.5  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"76.1,9.3 73.4,7.8 73.4,7.8 70.7,6.2 69.3,5.4 0,45.5 0,47 17.2,37.1 18.6,39.4 38,28.2 39.3,30.5     \">\n                </polygon>\n            </g>\n        </svg>\n        <h1>RenVM</h1>\n    </div>\n    <div class=\"footer\"><svg id=\"Layer_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 135.2 135.2\" style=\"width: 15px;\"\n            xml:space=\"preserve\">\n            <style type=\"text/css\">\n                .st0 {\n                    fill: #21262C;\n                }\n            </style>\n            <g>\n                <polygon class=\"st0\"\n                    points=\"18.6,28.5 28.5,22.8 29.9,25.1 66.6,3.9 63.9,2.3 61.2,0.8 59.9,0 0,34.6 0,36.1 17.2,26.2  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"18.6,50.3 47.4,33.7 48.7,36 85.5,14.8 82.8,13.2 80.1,11.7 78.8,10.9 0,56.3 0,57.9 17.2,48  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"18.6,61.2 56.8,39.1 58.1,41.4 94.9,20.2 92.2,18.7 89.5,17.1 88.2,16.3 0,67.2 0,68.8 17.2,58.8  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"18.6,72 66.5,44.4 67.8,46.7 104.3,25.6 101.6,24.1 98.9,22.5 97.6,21.8 0,78.1 0,79.6 17.2,69.7  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"18.6,82.9 75.9,49.8 77.2,52.2 113.7,31.1 111,29.5 108.4,28 107,27.2 0,89 0,90.5 17.2,80.6  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"117.8,33.4 116.4,32.6 0,99.9 0,101.4 17.2,91.5 18.6,93.8 75.9,60.7 77.2,63 119.8,38.5 119.8,35.4    119.8,34.6  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"7.4,108 17,102.5 18.4,104.8 75.6,71.7 77,74.1 119.8,49.3 119.8,46.2 119.8,43.1 119.8,41.6    6.1,107.2  \">\n                </polygon>\n                <polyline class=\"st0\"\n                    points=\"75.6,82.6 77,85 119.8,60.2 119.8,57.1 119.8,54 119.8,52.5 15.5,112.7 16.8,113.5 26.6,107.8    28,110.1  \">\n                </polyline>\n                <polygon class=\"st0\"\n                    points=\"26.2,118.9 36.1,113.2 37.4,115.6 75.6,93.5 77,95.8 119.8,71.1 119.8,68 119.8,64.9 119.8,63.3    24.9,118.1  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"35.7,124.3 45.5,118.7 46.8,121 75.6,104.4 77,106.7 119.8,82 119.8,78.9 119.8,75.8 119.8,74.2    34.3,123.6  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"43.7,129 45.1,129.8 54.9,124.1 56.2,126.5 75.6,115.3 77,117.6 119.8,92.9 119.8,89.8 119.8,86.6    119.8,85.1  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"54.5,135.2 64.3,129.6 65.7,131.9 75.6,126.1 77,128.5 119.8,103.8 119.8,100.6 119.8,97.5 119.8,96    53.2,134.5  \">\n                </polygon>\n                <polygon class=\"st0\"\n                    points=\"76.1,9.3 73.4,7.8 73.4,7.8 70.7,6.2 69.3,5.4 0,45.5 0,47 17.2,37.1 18.6,39.4 38,28.2 39.3,30.5     \">\n                </polygon>\n            </g>\n        </svg>\n        <h2>Gateway JS</h2>\n    </div>\n</main>\n*/","// @ts-nocheck\n\nimport React from 'react';\nimport RenSDK from \"@renproject/ren\";\nimport GatewayJS from \"gateway-js\";\nimport Web3 from \"web3\";\nimport BigNumber from \"bignumber.js\";\nimport './App.css';\n\nimport ABI from \"./ABI.json\";\nimport ERC20ABI from \"./ERC20ABI.json\";\nimport ShifterRegistryABI from \"./ShifterRegistryABI.json\";\n\n// Replace with your contract's address.\nconst shifterRegistryAddress = \"0xbA563a8510d86dE95F5a50007E180d6d4966ad12\";\nconst contractAddress = \"0xa2aE9111634F5983e4e1C3E3823914841a4c7235\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      balance: 0,\n      message: \"\",\n      sdk: new RenSDK(\"testnet\"),\n    }\n  }\n\n  async componentDidMount() {\n    let web3Provider;\n\n    // Initialize web3 (https://medium.com/coinmonks/web3-js-ethereum-javascript-api-72f7b22e2f0a)\n    // Modern dApp browsers...\n    if (window.ethereum) {\n      web3Provider = window.ethereum;\n      try {\n        // Request account access\n        await window.ethereum.enable();\n      } catch (error) {\n        // User denied account access...\n        console.error(\"User denied account access\")\n      }\n    }\n    // Legacy dApp browsers...\n    else if (window.web3) {\n      web3Provider = window.web3.currentProvider;\n    }\n    // If no injected web3 instance is detected, fall back to Ganache\n    else {\n      this.log(\"Please install MetaMask!\");\n    }\n\n    const web3 = new Web3(web3Provider);\n\n    this.setState({ web3 }, () => {\n\n      // Update balances immediately and every 10 seconds\n      this.updateBalance();\n      setInterval(() => {\n        this.updateBalance();\n      }, 10 * 1000);\n    });\n  }\n\n  render() {\n    const { balance, message } = this.state;\n    return (\n      <div className=\"App\">\n        <h1>RenVM demo</h1>\n        <p><b>This demo is on <i>testnet</i>. Do not send real funds.</b></p>\n        <p>Balance: <b>{balance} BTC</b> on Ethereum</p>\n        <p><button onClick={this.deposit}>Deposit 0.00015 BTC</button></p>\n        <p><button onClick={this.withdraw}>Withdraw 0.00015 BTC</button></p>\n        <p>{message}</p>\n      </div>\n    );\n  }\n\n  updateBalance = async () => {\n    const { web3 } = this.state;\n    const contract = new web3.eth.Contract(ABI, contractAddress);\n\n    const address = (await web3.eth.getAccounts())[0];\n\n    const balance = await contract.methods.balance(address).call();\n    this.setState({ balance: parseInt(balance.toString()) / 10 ** 8 });\n  }\n\n  log = (message) => {\n    this.setState({ message });\n  }\n\n  deposit = async () => {\n    console.log(\"inside deposit!\");\n\n    const { web3, sdk } = this.state;\n    const amount = new BigNumber(\"0.00015\"); // BTC\n\n    const address = (await web3.eth.getAccounts())[0];\n    console.log(`Using address ${address}!!!`);\n\n    const response = await new GatewayJS().open({\n      // Send BTC from the Bitcoin blockchain to the Ethereum blockchain.\n      sendToken: RenSDK.Tokens.BTC.Btc2Eth,\n\n      // Amount of BTC we are sending (in Satoshis)\n      sendAmount: amount.times(10 ** 8).toNumber(), // Convert to Satoshis\n\n      // The contract we want to interact with\n      sendTo: contractAddress,\n\n      // The name of the function we want to call\n      contractFn: \"shiftIn\",\n\n      // Arguments expected for calling `deposit`\n      contractParams: [\n        {\n          name: \"_to\",\n          type: \"address\",\n          value: address,\n        }\n      ],\n    }).catch((error) => { console.log(error); this.log(error.message || String(error)) });\n\n    this.log(JSON.stringify(response));\n  }\n\n  withdraw = async () => {\n    const { web3, sdk, balance } = this.state;\n\n    const amount = 0.00015; // balance;\n    // const recipient = prompt(\"Enter BTC recipient:\");\n    // if (!recipient) {\n    //   return;\n    // }\n    const from = (await web3.eth.getAccounts())[0];\n    // const contract = new web3.eth.Contract(ABI, contractAddress);\n\n    // this.log(\"Calling `withdraw` on smart contract...\");\n    // const txHash = await new Promise((resolve, reject) => {\n    //   contract.methods.withdraw(\n    //     web3.utils.fromAscii(`Depositing ${amount} BTC`), // _msg\n    //     RenSDK.Tokens.BTC.addressToHex(recipient), //_to\n    //     amount * (10 ** 8), // _amount in Satoshis\n    //   ).send({ from })\n    //     .on(\"transactionHash\", resolve)\n    //     .catch(reject);\n    // });\n\n    const shifterRegistry = new web3.eth.Contract(ShifterRegistryABI, shifterRegistryAddress);\n    const zbtc = await shifterRegistry.methods.getTokenBySymbol(\"zBTC\").call();\n\n    const token = new web3.eth.Contract(ERC20ABI, zbtc);\n    await new Promise((resolve, reject) => {\n      token.methods.approve(contractAddress, Math.floor(amount * 10 ** 8))\n        .send({ from })\n        .on(\"transactionHash\", resolve)\n        .catch(reject);\n    }).catch((error) => this.log(error.message || String(error)));\n\n    const response = await new GatewayJS().open({\n      // Send BTC from the Ethereum blockchain to the Bitcoin blockchain.\n      // This is the reverse of shitIn.\n      sendToken: RenSDK.Tokens.BTC.Eth2Btc,\n\n      // The contract we want to interact with\n      sendTo: contractAddress,\n\n      // The name of the function we want to call\n      contractFn: \"shiftOut\",\n\n      // Arguments expected for calling `deposit`\n      contractParams: [\n        {\n          name: \"_to\",\n          type: \"bytes\",\n          value: GatewayJS.askForAddress(), // RenSDK.Tokens.BTC.addressToHex(recipient),\n        },\n        {\n          name: \"_to\",\n          type: \"uint256\",\n          value: Math.floor(amount * 10 ** 8),\n        }\n      ],\n\n      // // The transaction hash of our contract call\n      // txHash,\n    }).catch((error) => this.log(error.message || String(error)));\n\n    this.log(JSON.stringify(response));\n\n    // this.log(`Submitting to Darknodes...`);\n    // await shiftOut.submitToRenVM();\n    // this.log(`Withdrew ${amount} BTC to ${recipient}.`);\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n// Unregister causes an \"Unhandled Rejection (SecurityError): The operation is\n// insecure.\" in the latest version of Firefox.\n// serviceWorker.unregister();\n"],"sourceRoot":""}